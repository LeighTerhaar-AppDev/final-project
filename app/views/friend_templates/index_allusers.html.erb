<div class="row mb-3">
  <div class="col-md-12">
    <h1>
      All Users
    </h1>

  </div>
</div>

<div class="container border border-light mb-3 bg-light">
    <div class="row">
        <div class="col-sm-8 pt-2">
          <%= search_form_for @q, { :url => "/users" } do |f| %>

          
              <div class="form-group">
                  <%= f.label :username_cont, "Search Users" %>
                  <%= f.text_field :username_cont, :class => "form-control" %>
              </div>
        </div>
        
        <div class="col-sm-2 align-self-center pt-4">
            <%= f.submit :class => "btn btn-primary btn-block" %>
        </div>
        <div class="col-sm-2 align-self-center pt-4">
            <a href="/users" class="btn btn-default btn-block">Clear filters</a>
          <% end %>
          </div>
    </div>
</div>



<hr>

<div class="row mb-3">
  <div class="col-md-12">
    <table class="table table-striped">
      <tr>
        <th>
          Name
        </th>

        <th>
          Number of Yoga Flows
        </th>

        <th>
           Number of Followers
        </th>
        
        <th>
        </th>
      </tr>

    <% @users.each do |user| %>
      <tr>
        <td>
          <%= user.username %>
        </td>

        <td>
          <%= Yogaflow.where(user_id: user.id).count %>
        </td>

        <td>
          <%= Friend.where(leader_id: user.id).count %>
        </td>

        <td>
          <a href="/users/<%= user.id %>">
            Show details
          </a>
        </td>
      </tr>
      <% end %>
    </table>
  </div>
</div>
