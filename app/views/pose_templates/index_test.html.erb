<h1>test page for poses</h1>

<%= search_form_for @q do |f| %>
  <p class="lead">Narrow results:</p>

    <div class="form-group">
        <%= f.label :name_or_sanskrit_cont, "Search English or Sanskrit Name" %>
        <%= f.text_field :name_or_sanskrit_cont, :class => "form-control" %>
    </div>
    
    <div class="form-group">
        <%= f.label :position_eq, "Type of Pose" %>
        <%= f.select :position_eq, options_from_collection_for_select(Pose.pluck(:position).uniq, :to_s, :to_s, @q.position_eq), { :include_blank => true}, :class => "form-control" %>
    </div>


  <%= f.submit :class => "btn btn-primary btn-block" %>
  
  <a href="/poses/test" class="btn btn-default btn-block">Clear filters</a>
<% end %>


<div class="card-columns">
    <% @poses.each do |pose| %>
    <div class="card">
      <h6 class="card-header"><%= pose.name %></h6>
      <div class="card-body">
        <p class="card-text"><%= pose.sanskrit %></p>
        <p class="card-text"><%= pose.position %></p>
        <div>
        <form action="/create_sequence" method="post">
            <input type="hidden" name="pose_id" class="form-control" value="<%= pose.id %>">
            <div class="form-group">
              <label for="yogaflow_id">
                Add to a Yogaflow
              </label>
              <%= select_tag(:yogaflow_id, options_from_collection_for_select(Yogaflow.where(user_id: current_user.id), :id, :title), :class => "form-control") %>
            </div>
            <button class="btn btn-block btn-outline-secondary">
              Add
            </button>
          </form>
          </div>
      </div>
    </div>
    <% end %>
  </div>